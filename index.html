
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Roleta de Brindes - Slot do Sabor</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        background-color: #111;
        color: white;
    }
    canvas {
        margin-top: 20px;
    }
    button {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 18px;
        background-color: gold;
        border: none;
        border-radius: 10px;
        cursor: pointer;
    }
    button:disabled {
        background-color: gray;
        cursor: not-allowed;
    }
</style>
</head>
<body>

<h1>üé∞ Slot do Sabor - Gire e Ganhe!</h1>
<canvas id="roleta" width="500" height="500"></canvas>
<br>
<button id="girar">Girar Roleta</button>

<p id="resultado"></p>

<script>
const canvas = document.getElementById("roleta");
const ctx = canvas.getContext("2d");

const brindes = [
    "Batata gr√°tis",
    "10% de desconto",
    "1 Dragon Double Cheddar",
    "S√≥ na pr√≥xima",
    "A√ßa√≠ 300ml",
    "Refrigerante gr√°tis"
];

const colors = ["#ff4d4d", "#ff9933", "#ffff66", "#66ff66", "#66b3ff", "#c266ff"];

// Fun√ß√£o para desenhar a roleta
function desenharRoleta() {
    const numSetores = brindes.length;
    const anguloSetor = (2 * Math.PI) / numSetores;
    for (let i = 0; i < numSetores; i++) {
        ctx.beginPath();
        ctx.moveTo(250, 250);
        ctx.arc(250, 250, 200, i * anguloSetor, (i + 1) * anguloSetor);
        ctx.fillStyle = colors[i];
        ctx.fill();
        ctx.save();
        ctx.translate(250, 250);
        ctx.rotate(i * anguloSetor + anguloSetor / 2);
        ctx.textAlign = "right";
        ctx.fillStyle = "black";
        ctx.font = "16px Arial";
        ctx.fillText(brindes[i], 180, 10);
        ctx.restore();
    }

    // Logo no centro
    const logo = new Image();
    logo.src = "logo.png";
    logo.onload = () => {
        ctx.save();
        ctx.beginPath();
        ctx.arc(250, 250, 60, 0, 2 * Math.PI);
        ctx.closePath();
        ctx.clip();
        ctx.drawImage(logo, 190, 190, 120, 120);
        ctx.restore();
    };
}

let anguloAtual = 0;
let girando = false;

// Bloqueio de 10 minutos
function podeJogar() {
    const ultimoGiro = localStorage.getItem("ultimoGiro");
    if (!ultimoGiro) return true;
    const agora = Date.now();
    return (agora - ultimoGiro) > 10 * 60 * 1000; // 10 minutos
}

document.getElementById("girar").addEventListener("click", () => {
    if (!podeJogar()) {
        alert("Voc√™ s√≥ pode girar a cada 10 minutos.");
        return;
    }
    if (!girando) {
        girando = true;
        let velocidade = Math.random() * 0.1 + 0.25;
        let desaceleracao = 0.0005;
        const animar = () => {
            anguloAtual += velocidade;
            velocidade -= desaceleracao;
            if (velocidade <= 0) {
                girando = false;
                const graus = anguloAtual * 180 / Math.PI + 90;
                const indice = Math.floor((360 - (graus % 360)) / (360 / brindes.length)) % brindes.length;
                document.getElementById("resultado").innerHTML = "üéâ Voc√™ ganhou: <b>" + brindes[indice] + "</b><br><br><a href='https://wa.me/5521972700203?text=Ganhei%20" + encodeURIComponent(brindes[indice]) + "' target='_blank'><button>Resgatar no WhatsApp</button></a>";
                localStorage.setItem("ultimoGiro", Date.now());
            } else {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.save();
                ctx.translate(250, 250);
                ctx.rotate(anguloAtual);
                ctx.translate(-250, -250);
                desenharRoleta();
                ctx.restore();
                requestAnimationFrame(animar);
            }
        };
        animar();
    }
});

desenharRoleta();
</script>

</body>
</html>
